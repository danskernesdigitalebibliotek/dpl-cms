<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="512px" preserveAspectRatio="none" style="width:787px;height:512px;background:#FFFFFF;" version="1.1" viewBox="0 0 787 512" width="787px" zoomAndPan="magnify"><defs><filter height="300%" id="f13f0yqjsk2mg3" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f13f0yqjsk2mg3)" height="173.9297" style="stroke:#000000;stroke-width:2.0;" width="692" x="10" y="134.4297"/><rect fill="#FFFFFF" filter="url(#f13f0yqjsk2mg3)" height="88.3984" style="stroke:#000000;stroke-width:2.0;" width="391" x="10" y="322.3594"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="38" x2="38" y1="88.2969" y2="427.7578"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="195" x2="195" y1="88.2969" y2="427.7578"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="548.5" x2="548.5" y1="88.2969" y2="427.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="20" y="84.9951">User</text><ellipse cx="38" cy="15" fill="#FEFECE" filter="url(#f13f0yqjsk2mg3)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M38,23 L38,50 M25,31 L51,31 M38,50 L25,65 M38,50 L51,65 " fill="none" filter="url(#f13f0yqjsk2mg3)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="20" y="439.7529">User</text><ellipse cx="38" cy="453.0547" fill="#FEFECE" filter="url(#f13f0yqjsk2mg3)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M38,461.0547 L38,488.0547 M25,469.0547 L51,469.0547 M38,488.0547 L25,503.0547 M38,488.0547 L51,503.0547 " fill="none" filter="url(#f13f0yqjsk2mg3)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f13f0yqjsk2mg3)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="72" x="157" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="164" y="72.9951">DPL_CMS</text><rect fill="#FEFECE" filter="url(#f13f0yqjsk2mg3)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="72" x="157" y="426.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="164" y="446.7529">DPL_CMS</text><rect fill="#FEFECE" filter="url(#f13f0yqjsk2mg3)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="137" x="478.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="485.5" y="72.9951">Adgangsplatformen</text><rect fill="#FEFECE" filter="url(#f13f0yqjsk2mg3)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="137" x="478.5" y="426.7578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="485.5" y="446.7529">Adgangsplatformen</text><polygon fill="#A80036" points="183,115.4297,193,119.4297,183,123.4297,187,119.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="38" x2="189" y1="119.4297" y2="119.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="45" y="114.3638">Clicks logout</text><path d="M10,134.4297 L238,134.4297 L238,141.4297 L228,151.4297 L10,151.4297 L10,134.4297 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="173.9297" style="stroke:#000000;stroke-width:2.0;" width="692" x="10" y="134.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="183" x="25" y="147.4966">The user has an access token</text><polygon fill="#A80036" points="537,183.8281,547,187.8281,537,191.8281,541,187.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="195" x2="543" y1="187.8281" y2="187.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="330" x="202" y="167.6294">Requests the single logout service at Adgangsplatformen</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227" x="202" y="182.7622">The access token is used in the request</text><polygon fill="#A80036" points="206,212.9609,196,216.9609,206,220.9609,202,216.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="200" x2="548" y1="216.9609" y2="216.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="212" y="211.895">Response to the cms</text><line style="stroke:#A80036;stroke-width:1.0;" x1="195" x2="237" y1="252.1602" y2="252.1602"/><line style="stroke:#A80036;stroke-width:1.0;" x1="237" x2="237" y1="252.1602" y2="265.1602"/><line style="stroke:#A80036;stroke-width:1.0;" x1="196" x2="237" y1="265.1602" y2="265.1602"/><polygon fill="#A80036" points="206,261.1602,196,265.1602,206,269.1602,202,265.1602" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="202" y="247.0942">Logs user out by ending session</text><path d="M401,229.9609 L401,269.9609 L683,269.9609 L683,239.9609 L673,229.9609 L401,229.9609 " fill="#FBFB77" filter="url(#f13f0yqjsk2mg3)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M673,229.9609 L673,239.9609 L683,239.9609 L673,229.9609 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="261" x="407" y="247.0278">The access token is a part of the user session</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="407" y="262.1606">and gets flushed in the procedure.</text><polygon fill="#A80036" points="49,296.3594,39,300.3594,49,304.3594,45,300.3594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="43" x2="194" y1="300.3594" y2="300.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="55" y="295.2935">Redirects to front page</text><path d="M10,322.3594 L238,322.3594 L238,329.3594 L228,339.3594 L10,339.3594 L10,322.3594 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="88.3984" style="stroke:#000000;stroke-width:2.0;" width="391" x="10" y="322.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="183" x="25" y="335.4263">The user has no access token</text><path d="M406,327.3594 L406,412.3594 L778,412.3594 L778,337.3594 L768,327.3594 L406,327.3594 " fill="#FBFB77" filter="url(#f13f0yqjsk2mg3)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M768,327.3594 L768,337.3594 L778,337.3594 L768,327.3594 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="229" x="412" y="344.4263">There can be two reasons why the user</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="412" y="359.5591">does not have an access token:</text><ellipse cx="417.5" cy="370.2578" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="340" x="423" y="374.6919">The user is a "non-adgangsplatformen" user, eg. an editor.</text><ellipse cx="417.5" cy="385.3906" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="254" x="423" y="389.8247">Something failed in the access token retrival</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="412" y="404.9575">and the access token is missing.</text><line style="stroke:#A80036;stroke-width:1.0;" x1="195" x2="237" y1="360.625" y2="360.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="237" x2="237" y1="360.625" y2="373.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="196" x2="237" y1="373.625" y2="373.625"/><polygon fill="#A80036" points="206,369.625,196,373.625,206,377.625,202,373.625" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="202" y="355.5591">Logs user out by ending session</text><polygon fill="#A80036" points="49,398.7578,39,402.7578,49,406.7578,45,402.7578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="43" x2="194" y1="402.7578" y2="402.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="55" y="397.6919">Redirects to front page</text><!--MD5=[9c9c9313ffc22761405d8b5c0acc61d2]
@startuml
actor       User              as  user
participant DPL_CMS           as  cms
participant Adgangsplatformen as  ap
user -> cms: Clicks logout
group The user has an access token
cms -> ap: Requests the single logout service at Adgangsplatformen\nThe access token is used in the request
ap -> cms: Response to the cms

cms -> cms: Logs user out by ending session
note right
The access token is a part of the user session
and gets flushed in the procedure.
end note
cms -> user: Redirects to front page
end

group The user has no access token
cms -> cms: Logs user out by ending session
cms -> user: Redirects to front page
end
note left
There can be two reasons why the user
does not have an access token:
* The user is a "non-adgangsplatformen" user, eg. an editor.
* Something failed in the access token retrival
and the access token is missing.
end note

@enduml

PlantUML version 1.2021.9(Sun Jul 25 10:13:56 GMT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>